<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>用户登录-DesignX网站设计工作室</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <!-- 网站图标 -->
    <link href="images/favicon.png" rel="icon">
    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <!-- Google字体引用 -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:Lato:300,400,700,300italic,400italic|Raleway:400,300,700"
          rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="static-lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="static-lib/icomoon/icomoon.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <style>
        input{
            opacity: 70%;
        }
        #loginAndRegister{
            text-align: left;
            height: 700px;
        }
        .redStar{color: red}
    </style>
</head>

<body data-spy="scroll" data-offset="58" data-target="#navbar-main">
<div id="navbar-main">
    <!-- 固定不动的导航栏 -->
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon icon-menu" style="font-size:30px; color: #ffffff"></span>
                </button>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="./index.html"><span class="icon icon-arrow-left2"></span>回到首页</a></li>
                </ul>
                <!--右边的注册和登录-->
                <ul class="nav navbar-nav navbar-right">
                    <li class="active"><a href="#" class="active"> 登录 / 注册</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<section class="section-divider divider5">
    <div class="container">
        <div id="loginAndRegister" class="col-sm-12">
            <br><br><br>
            <ul class="nav nav-tabs">
                <li class="active"><a href="#login" data-toggle="tab" onclick="switchLogin()">登录</a></li><!--a标签必须有「data-toggle="tab"」属性，否则不响应点击-->
                <li><a href="#register" data-toggle="tab" onclick="switchRegister();">注册</a></li>
            </ul>
            <div class="tab-content">
                <!--div标签必须拥有「class="tab-pane"」属性，否则不响应点击切换效果-->
                <div class="tab-pane active" id="login">
                    <br><br><br>
                    <form action="" role="form" id="loginForm"><!--处理登录请求的Servlet-->
                        <div class="form-group">
                            <label for="loginEmail">邮箱</label>
                            <input type="text" class="form-control" id="loginEmail" placeholder="请输入邮箱地址"><!--这里的id和name可能需要后端重新指定-->
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">密码</label>
                            <input type="password" class="form-control" id="loginPassword" placeholder="请输入密码">
                        </div>
                        <button type="submit" class="btn btn-primary btn-lg">登录</button>
                    </form>
                </div>
                <div class="tab-pane" id="register">
                    <br><br><br>
                    <form action="" role="form" id="regForm" onsubmit="toRegister()" method="post"><!--注册使用异步请求-->
                        <div class="form-group">
                            <label for="registerEmail"><span class="redStar">* </span>注册邮箱</label>
                            <input name="userEmail" type="text" class="form-control" id="registerEmail" placeholder="请输入邮箱地址" pattern="^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$" required>
                        </div>
                        <div class="form-group">
                            <label for="username"><span class="redStar">* </span>用户名</label>
                            <input name="userName" type="text" class="form-control" id="username" placeholder="请输入用户名，2～6字符" pattern="^[\u4e00-\u9fa5]{2,6}$" required>
                        </div>
                        <div class="form-group">
                            <label for="password"><span class="redStar">* </span>密码</label>
                            <input name="userPassword" type="password" class="form-control" id="password" placeholder="请输入密码，6～12字符" pattern="^[\s\S]{6,12}" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword"><span class="redStar">* </span>确认密码</label>
                            <input type="password" class="form-control" id="confirmPassword" placeholder="请确认输入的密码" required>
                        </div>
                        <div class="form-group">
                            <input type="checkbox" id="agreement" required>
                            <label for="agreement"><span class="redStar">* </span>我同意并遵守<a href="#" style="text-decoration: none;">用户协议</a></label>
                        </div>
                        <button type="submit" class="btn btn-primary btn-lg"/>注册</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<div id="copyrights">
    <div class="container">
        <p>
            &copy; Copyrights <strong>DesignX</strong>. All Rights Reserved
        </p>
        <div id="allMap"></div>
    </div>
</div>
<!-- 版权页脚 -->

<script src="static-lib/jquery/jquery.min.js"></script>
<script src="static-lib/jquery/serializejson.min.js"></script>
<script src="static-lib/bootstrap/js/bootstrap.min.js"></script>
<script src="static-lib/easing/easing.min.js"></script>
<script src="static-lib/main.js"></script>
<script>
    function switchRegister(){
        $('title').text('用户注册-DesignX网站设计工作室');
    }
    function switchLogin(){
        $('title').text('用户登录-DesignX网站设计工作室');
    }
    function toRegister(){
        if($("#password").val()===$("#confirmPassword").val()){
            // alert("true");
            var data = $("#regForm").serializeJSON();   // jQuery插件中的方法，将表单数据序列化为json
            console.log(data);
            $.post("userRegister.do",data,function (data,status,xhr) {  // 「userRegister.do」是接收并处理用户注册的Servlet地址
                
            },"json");
            alert(data);
            return true;
        }else{
            alert("两次输入的密码不一致！");
            return false;
        }
    }
</script>
</body>
</html>